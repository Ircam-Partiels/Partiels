set(VAMP_SDK_DIRECTORY "vamp-plugin-sdk")
set(VAMP_HOST_SDK_DIRECTORY "${VAMP_SDK_DIRECTORY}/vamp-hostsdk")
set(VAMP_HOST_SOURCES_DIRECTORY "${VAMP_SDK_DIRECTORY}/src/vamp-hostsdk")

file(GLOB VAMP_HOST_SDK_HEADERS ${VAMP_HOST_SDK_DIRECTORY}/*h)
file(GLOB VAMP_HOST_SDK_SOURCES ${VAMP_HOST_SOURCES_DIRECTORY}/*h  ${VAMP_HOST_SOURCES_DIRECTORY}/*cpp ${VAMP_HOST_SOURCES_DIRECTORY}/*c)

source_group("Vamp" FILES ${VAMP_HOST_SDK_HEADERS} ${VAMP_HOST_SDK_SOURCES})
add_library(vamp STATIC ${VAMP_HOST_SDK_HEADERS} ${VAMP_HOST_SDK_SOURCES})
target_compile_definitions(vamp PUBLIC _VAMP_NO_HOST_NAMESPACE=1)
if(WIN32)
target_compile_definitions(vamp PRIVATE _USE_MATH_DEFINES)
target_compile_options(vamp PRIVATE /wd4996)
target_compile_options(vamp PRIVATE /wd4267)
elseif(APPLE)
set_target_properties(vamp PROPERTIES ARCHIVE_OUTPUT_DIRECTORY "./")
endif()
target_include_directories(vamp PUBLIC ${VAMP_SDK_DIRECTORY})
